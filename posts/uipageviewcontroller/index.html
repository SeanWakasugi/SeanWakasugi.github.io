<!doctype html><html class=no-js lang=ja>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta http-equiv=x-ua-compatible content="IE=edge">
<title>UIPageViewControllerã§ãƒœã‚¿ãƒ³ã§ã‚‚ã‚¹ãƒ¯ã‚¤ãƒ—ã§ã‚‚é·ç§»ã§ãã‚‹ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚’ä½œã‚‹ - ã—ã‚‡ã€œã‚“ã®æŠ€è¡“ãƒ¡ãƒ¢ğŸ˜—</title>
<script>(function(a,b){a[b]=a[b].replace("no-js","js")})(document.documentElement,"className")</script>
<meta name=description content>
<meta name=twitter:card content="summary">
<meta name=twitter:title content="UIPageViewControllerã§ãƒœã‚¿ãƒ³ã§ã‚‚ã‚¹ãƒ¯ã‚¤ãƒ—ã§ã‚‚é·ç§»ã§ãã‚‹ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚’ä½œã‚‹">
<meta name=twitter:description content="UIPageViewControllerã‚’ä½¿ã£ã¦ã€ã‚¹ãƒ¯ã‚¤ãƒ—ã§ã®é·ç§»ã«åŠ ãˆã¦ãƒœã‚¿ãƒ³ã§ã®æˆ»ã‚‹/é€²ã‚€ã‚’è¿½åŠ ã—ãŸã¨ã“ã‚ã€ã„ã‚ã„ã‚ã¨ã¤ã¾ã¥ã„ãŸã®ã§ã©ã®">
<link rel=preconnect href=https://fonts.gstatic.com crossorigin>
<link rel=dns-prefetch href=//fonts.googleapis.com>
<link rel=dns-prefetch href=//fonts.gstatic.com>
<link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">
<link rel=stylesheet href=/css/style.css>
<link rel=stylesheet href=/css/custom.css>
<link rel="shortcut icon" href=/favicon.ico>
</head>
<body class=body>
<div class="container container--outer">
<header class=header>
<div class="container header__container">
<div class=logo>
<a class=logo__link href=/ title=ã—ã‚‡ã€œã‚“ã®æŠ€è¡“ãƒ¡ãƒ¢ğŸ˜— rel=home>
<div class="logo__item logo__text">
<div class=logo__title>ã—ã‚‡ã€œã‚“ã®æŠ€è¡“ãƒ¡ãƒ¢ğŸ˜—</div>
</div>
</a>
</div>
<div class=divider></div>
</div>
</header>
<div class="wrapper flex">
<div class=primary>
<main class=main role=main>
<article class=post>
<header class=post__header>
<h1 class=post__title>UIPageViewControllerã§ãƒœã‚¿ãƒ³ã§ã‚‚ã‚¹ãƒ¯ã‚¤ãƒ—ã§ã‚‚é·ç§»ã§ãã‚‹ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚’ä½œã‚‹</h1>
<div class="post__meta meta">
<div class="meta__item-datetime meta__item">
<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2022-08-16T00:00:00Z>August 16, 2022</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2 1 2h8v11H0V2z"/></svg><span class=meta__text><a class=meta__link href=/categories/ios%E3%82%A2%E3%83%97%E3%83%AA/ rel=category>iOSã‚¢ãƒ—ãƒª</a>
</span>
</div></div>
</header><div class="content post__content clearfix">
<p><code>UIPageViewController</code>ã‚’ä½¿ã£ã¦ã€ã‚¹ãƒ¯ã‚¤ãƒ—ã§ã®é·ç§»ã«åŠ ãˆã¦ãƒœã‚¿ãƒ³ã§ã®æˆ»ã‚‹/é€²ã‚€ã‚’è¿½åŠ ã—ãŸã¨ã“ã‚ã€ã„ã‚ã„ã‚ã¨ã¤ã¾ã¥ã„ãŸã®ã§ã©ã®ã‚ˆã†ã«è§£æ±ºã—ãŸã‹ãƒ¡ãƒ¢ã‚’æ®‹ã—ã¦ãŠãã¾ã™ã€‚</p>
<p>ã‚³ãƒ¼ãƒ‰ãŒè¦‹ãŸã„æ–¹ã¯ã“ã¡ã‚‰ã€ã‚‚ã—ãã¯è¨˜äº‹æœ€ä¸‹éƒ¨ã«å…¨æ–‡è¼‰ã›ã¦ã„ã¾ã™ã€‚
<a href=https://github.com/SeanWakasugi/SwipeAndButtonPageView>https://github.com/SeanWakasugi/SwipeAndButtonPageView</a></p>
<p>ä½œã‚ŠãŸã‹ã£ãŸã‚¢ãƒ—ãƒªã¯ã“ã®ã‚ˆã†ãªã‚‚ã®ã§ã™ã€‚</p>
<ul>
<li>ã¨ã‚Šã‚ãˆãš3ãƒšãƒ¼ã‚¸ã®ç”»é¢ã‚’è¡Œãæ¥ã§ãã‚‹</li>
<li>ã‚¹ãƒ¯ã‚¤ãƒ—ã§é·ç§»ã§ãã‚‹</li>
<li>ãƒœã‚¿ãƒ³ã§ã‚‚é·ç§»ã§ãã‚‹</li>
<li>ç¾åœ¨ã®ãƒšãƒ¼ã‚¸ã‚’ãƒ‰ãƒƒãƒˆã§è¡¨ç¤º</li>
<li>ãƒšãƒ¼ã‚¸ãŒå¢—ãˆã¦ã‚‚ã‚³ãƒ¼ãƒ‰ã‚’å¤‰ãˆãšã«å¯¾å¿œã§ãã‚‹</li>
</ul>
<p>ä½œã£ã¦ã„ãä¸­ã§ã¤ã¾ã¥ã„ãŸç‚¹ã¯ä»¥ä¸‹ã®5ã¤ã§ã™ã€‚</p>
<ul>
<li>ã©ã“ã«ãƒœã‚¿ãƒ³ã‚’ç½®ã‘ã°ã„ã„ï¼Ÿ</li>
<li>ãƒœã‚¿ãƒ³ã§é·ç§»ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã®æ›¸ãæ–¹ã¯ï¼Ÿ</li>
<li>ç¾åœ¨ã®ãƒšãƒ¼ã‚¸æ•°ã®å–å¾—æ–¹æ³•ã¯ï¼Ÿ</li>
<li>ãƒœã‚¿ãƒ³ã§ã®é·ç§»ä¸­ã«ã‚¹ãƒ¯ã‚¤ãƒ—æ“ä½œã‚’ã™ã‚‹ã¨é·ç§»å…ˆãŒãšã‚Œã‚‹</li>
<li>ã‚¹ãƒ¯ã‚¤ãƒ—ä¸­ã«ãƒœã‚¿ãƒ³æ“ä½œã‚’ã™ã‚‹ã¨ã‚¢ãƒ—ãƒªãŒè½ã¡ã‚‹</li>
</ul>
<p>ã¾ãšã€<code>UIPageViewController</code>ã®ä¸€ç•ªç°¡å˜ãªä½¿ã„æ–¹ã‹ã‚‰ã€ä¸Šã®5ã¤ã®ç–‘å•ã‚’ã©ã®ã‚ˆã†ã«è§£æ¶ˆã—ãŸã‹è§£èª¬ã—ã¦ã„ãã¾ã™ã€‚</p>
<h3 id=uipageviewcontrollerã®æœ€å°æ§‹æˆ>UIPageViewControllerã®æœ€å°æ§‹æˆ</h3>
<p>Storyboardã§ã€ã“ã®pageViewControllerã‚’classã«è¨­å®šã—ãŸUIPageViewControllerã‚’ç½®ã„ã¦ã€isInitialã«è¨­å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>UIKit</span>

<span style=color:#66d9ef>class</span> <span style=color:#a6e22e>pageViewController</span>: UIPageViewController {

    <span style=color:#66d9ef>var</span> controllers: [UIViewController] = []
    
    <span style=color:#66d9ef>override</span> <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>viewDidLoad</span>() {
        <span style=color:#66d9ef>super</span>.viewDidLoad()
        <span style=color:#75715e>// è¡¨ç¤ºã™ã‚‹ViewControllerã®é…åˆ—ã‚’ä½œæˆã™ã‚‹</span>
        <span style=color:#66d9ef>let</span> first = storyboard!.instantiateViewController(withIdentifier: <span style=color:#e6db74>&#34;firstView&#34;</span>)
        <span style=color:#66d9ef>let</span> second = storyboard!.instantiateViewController(withIdentifier: <span style=color:#e6db74>&#34;secondView&#34;</span>)
        <span style=color:#66d9ef>let</span> third = storyboard!.instantiateViewController(withIdentifier: <span style=color:#e6db74>&#34;thirdView&#34;</span>)
        controllers = [first, second, third]
        <span style=color:#75715e>// æœ€åˆã«è¡¨ç¤ºã™ã‚‹ViewControllerã‚’è¨­å®šã™ã‚‹</span>
        setViewControllers([controllers[<span style=color:#ae81ff>0</span>]], direction: .forward, animated: <span style=color:#66d9ef>false</span>)
        <span style=color:#75715e>// ç”»é¢ã®ç§»å‹•å…ˆã‚’æ±ºå®šã™ã‚‹dataSourceã‚’ç´ã¤ã‘ã‚‹</span>
        dataSource = <span style=color:#66d9ef>self</span>
    }
}

<span style=color:#66d9ef>extension</span> <span style=color:#a6e22e>pageViewController</span>: UIPageViewControllerDataSource {
    <span style=color:#75715e>/// ã‚¹ãƒ¯ã‚¤ãƒ—æ“ä½œã«ãŠã‘ã‚‹æ¬¡ã®ç”»é¢ã‚’æ¸¡ã™ãƒ¡ã‚½ãƒƒãƒ‰ã€‚ãã®ç”»é¢ãŒæœ€å¾Œã®ç”»é¢ãªã‚‰ã€nilã‚’è¿”ã—ã¦é·ç§»ä¸å¯ã¨ã™ã‚‹</span>
    <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>pageViewController</span>(<span style=color:#66d9ef>_</span> pageViewController: UIPageViewController, viewControllerAfter viewController: UIViewController) -&gt; UIViewController? {
        <span style=color:#66d9ef>guard</span> <span style=color:#66d9ef>let</span> index = controllers.firstIndex(of: viewController) <span style=color:#66d9ef>else</span> { <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span> }
        <span style=color:#66d9ef>if</span> index <span style=color:#f92672>&lt;</span> controllers.count <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span> {
            <span style=color:#66d9ef>return</span> controllers[index <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>]
        } <span style=color:#66d9ef>else</span> {
            <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>
        }
    }
    
    <span style=color:#75715e>/// ã‚¹ãƒ¯ã‚¤ãƒ—æ“ä½œã«ãŠã‘ã‚‹å‰ã®ç”»é¢ã‚’æ¸¡ã™ãƒ¡ã‚½ãƒƒãƒ‰ã€‚ãã®ç”»é¢ãŒæœ€åˆã®ç”»é¢ãªã‚‰ã€nilã‚’è¿”ã—ã¦é·ç§»ä¸å¯ã¨ã™ã‚‹</span>
    <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>pageViewController</span>(<span style=color:#66d9ef>_</span> pageViewController: UIPageViewController, viewControllerBefore viewController: UIViewController) -&gt; UIViewController? {
        <span style=color:#66d9ef>guard</span> <span style=color:#66d9ef>let</span> index = controllers.firstIndex(of: viewController) <span style=color:#66d9ef>else</span> { <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span> }
        <span style=color:#66d9ef>if</span> index <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span> {
            <span style=color:#66d9ef>return</span> controllers[index <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>]
        } <span style=color:#66d9ef>else</span> {
            <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>
        }
    } 
}
</code></pre></div><p>ã“ã‚Œã ã‘ã§ã€3æšã®ç”»é¢ã‚’ã‚¹ãƒ¯ã‚¤ãƒ—ã§è¡Œãæ¥ã§ãã‚‹ãƒšãƒ¼ã‚¸ãƒ“ãƒ¥ãƒ¼ãŒå®Œæˆã—ã¾ã™ã€‚</p>
<p>ã“ã“ã«ãƒœã‚¿ãƒ³ã‚’è¿½åŠ ã—ã¦ã„ãã¾ã™ã€‚</p>
<h3 id=ã©ã“ã«ãƒœã‚¿ãƒ³ã‚’ç½®ã‘ã°ã„ã„>ã©ã“ã«ãƒœã‚¿ãƒ³ã‚’ç½®ã‘ã°ã„ã„ï¼Ÿ</h3>
<p><code>UIPageViewController</code>ã«ã¯ãƒœã‚¿ãƒ³ã‚’è¨­ç½®ã§ãã¾ã›ã‚“ã€‚</p>
<p><code>UIPageViewController</code>ã¯è¤‡æ•°ã®<code>ViewController</code>ã‚’ã¾ã¨ã‚ã¦ç®¡ç†ã™ã‚‹ã‚¯ãƒ©ã‚¹ãªã®ã§ã€ãã‚Œè‡ªä½“ã¯ç”»é¢ã‚’æŒã£ã¦ã„ãªã„ã‹ã‚‰ã§ã™ã€‚</p>
<p>ãã“ã§ã€è¦ªã¨ãªã‚‹<code>ViewController</code>ã‚’ä½œæˆã—ã¦ã€ãã®ä¸­ã«<code>ContainerView</code>ã‚’è¨­ç½®ã—ã€ContainerViewã®ä¸­ã«<code>UIPageViewController</code>ã‚’ç´ã¤ã‘ã¾ã™ã€‚</p>
<p>ç´ä»˜ã‘ã®æ–¹æ³•ã¯ã€<code>ContainerView</code>ã‹ã‚‰<code>UIPageViewController</code>ã¸Controlã‚’æŠ¼ã—ãªãŒã‚‰ãƒ‰ãƒ©ãƒƒã‚°ã—(Segueã‚’ã²ã£ã±ã£ã¦)ã€<code>Embed</code>ã‚’é¸æŠã™ã‚‹ã“ã¨ã§ã™ã€‚</p>
<p>è¦ªã®ViewControllerã«<code>UIPageControl</code>ã¨æˆ»ã‚‹ã¨é€²ã‚€ã®<code>UIButton</code>ã‚’è¨­ç½®ã—ã¾ã—ãŸã€‚</p>
<p><img src=./PageViewOnContainer.png alt=ContainerViewã«PageViewã‚’è¨­å®š></p>
<p>ã‚³ãƒ¼ãƒ‰ã§ã¯ã€è¦ªã¨ãªã‚‹<code>RootPageViewController</code>ã‚’ä½œæˆã—ã€<code>UIPageViewController</code>ã‚’<code>RootPageViewController</code>ã®ãƒ¡ãƒ³ãƒãƒ¼å¤‰æ•°ã¨ã—ã¦æŒã¡ã€viewDidLoadã§ç´ä»˜ã‘ã‚’è¡Œã†ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>RootPageViewController</span>: UIViewController {
    
    <span style=color:#66d9ef>@IBOutlet</span> <span style=color:#66d9ef>weak</span> <span style=color:#66d9ef>var</span> pageControl: UIPageControl!
    <span style=color:#66d9ef>@IBOutlet</span> <span style=color:#66d9ef>weak</span> <span style=color:#66d9ef>var</span> backButton: UIButton!
    <span style=color:#66d9ef>@IBOutlet</span> <span style=color:#66d9ef>weak</span> <span style=color:#66d9ef>var</span> nextButton: UIButton!
    
    <span style=color:#66d9ef>var</span> pageViewController: UIPageViewController!
    <span style=color:#66d9ef>var</span> controllers: [UIViewController] = []

    <span style=color:#66d9ef>override</span> <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>viewDidLoad</span>() {
        <span style=color:#75715e>// ContainerViewã§æŒã£ã¦ã„ã‚‹UIPageViewControllerã‚’selfã®pageViewControllerã«è¨­å®š</span>
        <span style=color:#66d9ef>self</span>.pageViewController = children.first! <span style=color:#66d9ef>as</span>? UIPageViewController
        
        <span style=color:#66d9ef>let</span> first = storyboard!.instantiateViewController(withIdentifier: <span style=color:#e6db74>&#34;firstPage&#34;</span>)
        <span style=color:#66d9ef>let</span> second = storyboard!.instantiateViewController(withIdentifier: <span style=color:#e6db74>&#34;secondPage&#34;</span>)
        <span style=color:#66d9ef>let</span> third = storyboard!.instantiateViewController(withIdentifier: <span style=color:#e6db74>&#34;thirdPage&#34;</span>)
        
        controllers = [first, second, third]
        pageViewController.setViewControllers([controllers[index]], direction: .forward, animated: <span style=color:#66d9ef>false</span>)
        pageViewController.dataSource = <span style=color:#66d9ef>self</span>
    }
</code></pre></div><h3 id=ãƒœã‚¿ãƒ³ã§é·ç§»ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã®æ›¸ãæ–¹ã¯>ãƒœã‚¿ãƒ³ã§é·ç§»ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã®æ›¸ãæ–¹ã¯ï¼Ÿ</h3>
<p><code>UIPageViewController</code>ã‚’ä½¿ã£ã¦ã‚¹ãƒ¯ã‚¤ãƒ—ã§é·ç§»ã™ã‚‹éš›ã¯<code>UIPageViewControllerDataSource</code>ã«å‰å¾Œã®è¡Œãå…ˆã‚’æ›¸ã„ã¦ãŠãã ã‘ã§ã†ã¾ãã‚„ã£ã¦ãã‚Œã¾ã™ã€‚</p>
<p>ã§ã¯ã€ãƒœã‚¿ãƒ³ã§é·ç§»ã™ã‚‹å ´åˆã¯ï¼Ÿã€€<code>setViewControllers()</code>ã‚’ä½¿ã„ã¾ã™ã€‚</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>setViewControllers</span>(<span style=color:#66d9ef>_</span> viewControllers: [UIViewController]?, direction: UIPageViewController.NavigationDirection, animated: Bool, completion: ((Bool) -&gt; Void)? = <span style=color:#66d9ef>nil</span>)
</code></pre></div><p><code>setViewControllers()</code>ã¯ã€é€šå¸¸ã®ãƒšãƒ¼ã‚¸ãƒ“ãƒ¥ãƒ¼ã§ã‚‚ãƒšãƒ¼ã‚¸ã®å§‹ç‚¹ã‚’ã‚»ãƒƒãƒˆã™ã‚‹ã®ã«ã‚‚ä½¿ã†ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
<p>ãƒœã‚¿ãƒ³ã§é·ç§»ã—ãŸã„å…ˆã®<code>ViewController</code>ã‚’æŒ‡å®šã—ã¦ã€ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã®æ–¹å‘ã‚’è¨­å®šã™ã‚‹ã“ã¨ã§ã€é·ç§»ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
<p>ã¨ã„ã†ã‚ã‘ã§ã€é€²ã‚€ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨ãã¯æ¬¡ã®ç”»é¢ã‚’æŒ‡å®šã—ã¦ã€æˆ»ã‚‹ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨ãã¯å‰ã®ç”»é¢ã‚’æŒ‡å®šã—ãŸã„ã§ã™ã€‚</p>
<p>å‰ã®ç”»é¢ã‚„æ¬¡ã®ç”»é¢ã‚’çŸ¥ã‚‹ãŸã‚ã«ã¯ã€ä»Šã„ã‚‹ç”»é¢ãŒä½•ç•ªç›®ãªã®ã‹çŸ¥ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</p>
<h3 id=ç¾åœ¨ã®ãƒšãƒ¼ã‚¸æ•°ã®å–å¾—æ–¹æ³•ã¯>ç¾åœ¨ã®ãƒšãƒ¼ã‚¸æ•°ã®å–å¾—æ–¹æ³•ã¯ï¼Ÿ</h3>
<p>ç¾åœ¨ã®ãƒšãƒ¼ã‚¸æ•°ã¯ã‚¹ãƒ¯ã‚¤ãƒ—ã§é·ç§»ã—ãŸå ´åˆã‚‚ãƒœã‚¿ãƒ³ã§é·ç§»ã—ãŸå ´åˆã‚‚åæ˜ ã•ã›ãªã‘ã‚Œã°ã„ã‘ã¾ã›ã‚“ã€‚</p>
<p>åˆæœŸå€¤<code>0</code>ã®ãƒ¡ãƒ³ãƒãƒ¼å¤‰æ•°<code>index</code>ã‚’ä½œã£ã¦ç®¡ç†ã—ã¦ã¿ã¾ã™ã€‚</p>
<p>ãƒœã‚¿ãƒ³ã®æ–¹ã¯ã“ã‚“ãªæ„Ÿã˜ã§ã™ã€‚indexã‚’æ›¸ãæ›ãˆã¦ã€æ›¸ãæ›ãˆãŸå…ˆã«ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ä»˜ãã§é·ç§»ã—ã¦ã„ã¾ã™ã€‚</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>RootPageViewController</span>: UIViewController {
    <span style=color:#75715e>// è¿½åŠ </span>
    <span style=color:#66d9ef>var</span> index: Int = <span style=color:#ae81ff>0</span>
    <span style=color:#66d9ef>var</span> cacheIndex: Int?
    
    <span style=color:#66d9ef>override</span> <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>viewDidLoad</span>() {
        <span style=color:#75715e>// è¿½åŠ </span>
        pageViewController.delegate = <span style=color:#66d9ef>self</span>
        pageControl.numberOfPages = controllers.count
        didMovePage()
    }
    
    <span style=color:#66d9ef>@IBAction</span> <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>didPressBackButton</span>(<span style=color:#66d9ef>_</span> sender: UIButton) {
        animateToPreviousPage() { [<span style=color:#66d9ef>weak</span> <span style=color:#66d9ef>self</span>] <span style=color:#66d9ef>in</span>
            <span style=color:#66d9ef>self</span>?.didMovePage()
        }
    }
    
    <span style=color:#66d9ef>@IBAction</span> <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>didPressNextButton</span>(<span style=color:#66d9ef>_</span> sender: UIButton) {
        animateToNextPage() { [<span style=color:#66d9ef>weak</span> <span style=color:#66d9ef>self</span>] <span style=color:#66d9ef>in</span>
            <span style=color:#66d9ef>self</span>?.didMovePage()
        }
    }
    
    <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>animateToPreviousPage</span>(completion: @escaping (()-&gt; Void)) {
        index = index <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>
        pageViewController.setViewControllers([controllers[index]], direction: .reverse, animated: <span style=color:#66d9ef>true</span>) { <span style=color:#66d9ef>_</span> <span style=color:#66d9ef>in</span>
            completion()
        }
    }
    
    <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>animateToNextPage</span>(completion: @escaping (()-&gt; Void)) {
        index = index <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>
        pageViewController.setViewControllers([controllers[index]], direction: .forward, animated: <span style=color:#66d9ef>true</span>) { <span style=color:#66d9ef>_</span> <span style=color:#66d9ef>in</span>
            completion()
        }
    }
    
    <span style=color:#75715e>/// ã‚¹ãƒ¯ã‚¤ãƒ—ã€ãƒœã‚¿ãƒ³ã§ã®ãƒšãƒ¼ã‚¸é·ç§»çµ‚äº†å¾Œã«å‘¼ã¶ãƒ¡ã‚½ãƒƒãƒ‰ã€‚</span>
    <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>didMovePage</span>() {
        pageControl.currentPage = index
        <span style=color:#66d9ef>if</span> index == <span style=color:#ae81ff>0</span> {
            backButton.isHidden = <span style=color:#66d9ef>true</span>
        } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> index == controllers.count <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span> {
            nextButton.isHidden = <span style=color:#66d9ef>true</span>
        } <span style=color:#66d9ef>else</span> {
            backButton.isHidden = <span style=color:#66d9ef>false</span>
            nextButton.isHidden = <span style=color:#66d9ef>false</span>
        }
    }
}
</code></pre></div><p>ã‚¹ãƒ¯ã‚¤ãƒ—ã®æ–¹ã¯ã€<code>UIPageViewControllerDelegate</code>ã‚’ä½¿ã„ã¾ã™ã€‚</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=color:#66d9ef>extension</span> <span style=color:#a6e22e>RootPageViewController</span>: UIPageViewControllerDelegate {
    <span style=color:#75715e>/// ã‚¹ãƒ¯ã‚¤ãƒ—æ“ä½œãŒå§‹ã¾ã£ãŸæ™‚ã«å‘¼ã°ã‚Œã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ã€‚è¡Œãå…ˆç”»é¢ã®indexã‚’cacheã«å…¥ã‚Œã¦ãŠã</span>
    <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>pageViewController</span>(<span style=color:#66d9ef>_</span> pageViewController: UIPageViewController, willTransitionTo pendingViewControllers: [UIViewController]) {
        <span style=color:#66d9ef>if</span> <span style=color:#66d9ef>let</span> index = <span style=color:#66d9ef>self</span>.controllers.firstIndex(of: pendingViewControllers.first!) {
            cacheIndex = index
        }
    }
    
    <span style=color:#75715e>/// ã‚¹ãƒ¯ã‚¤ãƒ—æ“ä½œã«ã‚ˆã‚‹ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãŒçµ‚ã‚ã£ãŸæ™‚ã«å‘¼ã°ã‚Œã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ã€‚ã‚‚ã—é·ç§»å®Œäº†ãªã‚‰cacheã‚’indexã«é©ç”¨</span>
    <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>pageViewController</span>(<span style=color:#66d9ef>_</span> pageViewController: UIPageViewController, didFinishAnimating finished: Bool, previousViewControllers: [UIViewController], transitionCompleted completed: Bool) {
        <span style=color:#66d9ef>if</span> completed {
            <span style=color:#66d9ef>self</span>.index = cacheIndex!
            didMovePage()
        }
    }
}
</code></pre></div><p>ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚¹ãƒ¯ã‚¤ãƒ—ã‚’å§‹ã‚ã‚‹ã¨ã€<code>pageViewController(willTransitionTo)</code>ãŒå‘¼ã°ã‚Œã€ã©ã£ã¡ã«å‘ã‹ã£ã¦ã‚¹ãƒ¯ã‚¤ãƒ—ã—ã¦ã„ã‚‹ã‹ã«ã‚ˆã£ã¦ã€<code>pendingViewControllers</code>ã«è¡Œãå…ˆã®<code>ViewController</code>ãŒæ±ºå®šã•ã‚Œã¾ã™ã€‚</p>
<p>ã“ã“ã§ã¯ã€è¡Œãå…ˆã®indexã‚’èª¿ã¹ã¦ã€<code>cacheIndex</code>ã«å…¥ã‚Œã¦ã„ã¾ã™ã€‚</p>
<p>ãã®å¾Œã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ“ä½œã‚’å®Œäº†ã™ã‚‹ã¨ã€<code>pageViewController(didFinishAnimating)</code>ãŒå‘¼ã°ã‚Œã€<code>if completed {}</code>ã§ã€Œé·ç§»ã€ãŒå®Œäº†ã—ãŸã‹ã‚’è¦‹ã¦ã„ã¾ã™ã€‚</p>
<p>é·ç§»ãŒå®Œäº†ã—ã¦ã„ãªã„å ´åˆã¨ã¯ã€ä¾‹ãˆã°ã‚¹ãƒ¯ã‚¤ãƒ—ã—ã¦æ¬¡ã®ç”»é¢ã‚’ã¡ã‚‡ã£ã¨è¦—ã„ãŸã‘ã©ã€ã‚„ã‚ã¦å…ƒã®ç”»é¢ã«æˆ»ã—ãŸå ´åˆãªã©ã§ã™ã€‚</p>
<p>ã“ã®å ´åˆã€<code>pageViewController(didFinishAnimating)</code>ã¯å‘¼ã°ã‚Œã¾ã™ãŒã€<code>finished = false</code>ã«ãªã£ã¦ã„ã¾ã™ã€‚</p>
<p>ï¼ˆç§ã¯ã“ã‚ŒãŒåˆ†ã‹ã‚‰ãšã€ç†è§£ã«æ™‚é–“ãŒã‹ã‹ã‚Šã¾ã—ãŸâ€¦â€¦ã€‚ï¼‰</p>
<p>é·ç§»ãŒå®Œäº†ã—ã¦ã„ã‚Œã°ã€<code>cacheIndex</code>ã‚’<code>index</code>ã«æ›¸ãè¾¼ã‚“ã§ã€ç¾åœ¨ã®ãƒšãƒ¼ã‚¸ç•ªå·ã‚’æ›´æ–°ã™ã‚‹å‡¦ç†ãŒå®Œäº†ã§ã™ã€‚</p>
<p><code>index</code>ãŒå–ã‚Œã‚Œã°ã€<code>UIPageControl</code>ï¼ˆç¾åœ¨ã®ãƒšãƒ¼ã‚¸ã‚’è¡¨ã™ãƒ‰ãƒƒãƒˆï¼‰ã‚„ã€æœ€åˆã®ãƒšãƒ¼ã‚¸ã§ã€Œæˆ»ã‚‹ã€ã‚’è¡¨ç¤ºã—ãªã„å‡¦ç†ã€æœ€å¾Œã®ãƒšãƒ¼ã‚¸ã§ã€Œé€²ã‚€ã€ã‚’è¡¨ç¤ºã—ãªã„å‡¦ç†ã‚‚æ›¸ã‘ã‚‹ã®ã§ã€<code>didMovePage()</code>ã¨ã—ã¦å®Ÿè£…ã—ã¾ã—ãŸã€‚</p>
<p>ã“ã“ã¾ã§ã§ã€ã»ã¼å®Œæˆã§ã™ãŒã€2ã¤ãƒã‚°ãŒæ®‹ã£ã¦ã„ã¾ã™ã€‚</p>
<ul>
<li>ãƒœã‚¿ãƒ³ã§ã®é·ç§»ä¸­ã«ã‚¹ãƒ¯ã‚¤ãƒ—æ“ä½œã‚’ã™ã‚‹ã¨é·ç§»å…ˆãŒãšã‚Œã‚‹</li>
<li>ã‚¹ãƒ¯ã‚¤ãƒ—ä¸­ã«ãƒœã‚¿ãƒ³æ“ä½œã‚’ã™ã‚‹ã¨ã‚¢ãƒ—ãƒªãŒè½ã¡ã‚‹</li>
</ul>
<h3 id=ãƒœã‚¿ãƒ³ã§ã®é·ç§»ä¸­ã«ã‚¹ãƒ¯ã‚¤ãƒ—æ“ä½œã‚’ã™ã‚‹ã¨é·ç§»å…ˆãŒãšã‚Œã‚‹å¯¾ç­–>ãƒœã‚¿ãƒ³ã§ã®é·ç§»ä¸­ã«ã‚¹ãƒ¯ã‚¤ãƒ—æ“ä½œã‚’ã™ã‚‹ã¨é·ç§»å…ˆãŒãšã‚Œã‚‹å¯¾ç­–</h3>
<p>ãƒœã‚¿ãƒ³ã§ã®é·ç§»ä¸­ã«ã‚¹ãƒ¯ã‚¤ãƒ—ã§é·ç§»ã‚’æ­¢ã‚ãŸã‚Šå…ˆã«é€²ã‚ãŸã‚Šã™ã‚‹ã¨ã€é·ç§»å…ˆã®ãƒšãƒ¼ã‚¸ãŒé•ã†ãƒšãƒ¼ã‚¸ã«ãªã£ãŸã‚Šã€ãƒšãƒ¼ã‚¸è¡¨ç¤ºãƒ‰ãƒƒãƒˆãŒãŠã‹ã—ããªã£ãŸã‚Šã—ã¾ã™ã€‚</p>
<p>ã“ã‚Œã¯ã€ãƒœã‚¿ãƒ³ã§ã®é·ç§»ã‚’èµ°ã‚‰ã›ãŸæ™‚ã«<code>index</code>ã‚’æ›¸ãæ›ãˆã¦ã—ã¾ã£ã¦ã„ã‚‹ã®ã§ã€ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãŒæ­£å¸¸ã«çµ‚äº†ã—ãªã„ã¨ã€è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ãƒšãƒ¼ã‚¸ã¨<code>index</code>ã®å€¤ãŒãšã‚Œã¦ã—ã¾ã†ã“ã¨ã«èµ·å› ã—ã¾ã™ã€‚</p>
<p>ã“ã“ã§ã¯ã€ãƒœã‚¿ãƒ³ã§ã®é·ç§»ä¸­ã«ã‚¹ãƒ¯ã‚¤ãƒ—æ“ä½œã‚’è¨±ã™ã¨ã‚³ãƒ¼ãƒ‰ãŒè¤‡é›‘ã«ãªã‚‹ã®ã§ã€ãƒœã‚¿ãƒ³ã§ã®é·ç§»ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ä¸­ã¯<code>view.isUserInteractionEnabled</code>ã‚’ä½¿ã£ã¦ç”»é¢ã‚’è§¦ã‚Œãªã„ã‚ˆã†ã«ã—ã¾ã™ã€‚</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift>    <span style=color:#66d9ef>@IBAction</span> <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>didPressBackButton</span>(<span style=color:#66d9ef>_</span> sender: UIButton) {
        <span style=color:#75715e>// ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ä¸­ã¯ç”»é¢ã‚’è§¦ã‚Œãªãã™ã‚‹</span>
        view.isUserInteractionEnabled = <span style=color:#66d9ef>false</span>
        animateToPreviousPage() { [<span style=color:#66d9ef>weak</span> <span style=color:#66d9ef>self</span>] <span style=color:#66d9ef>in</span>
            <span style=color:#66d9ef>self</span>?.didMovePage()
            <span style=color:#66d9ef>self</span>?.view.isUserInteractionEnabled = <span style=color:#66d9ef>true</span>
        }
    }
</code></pre></div><p>NextButtonã«ã‚‚åŒæ§˜ã®å‡¦ç†ã‚’å®Ÿè£…ã—ã¾ã—ãŸã€‚</p>
<h3 id=ã‚¹ãƒ¯ã‚¤ãƒ—ä¸­ã«ãƒœã‚¿ãƒ³æ“ä½œã‚’ã™ã‚‹ã¨ã‚¢ãƒ—ãƒªãŒè½ã¡ã‚‹å¯¾ç­–>ã‚¹ãƒ¯ã‚¤ãƒ—ä¸­ã«ãƒœã‚¿ãƒ³æ“ä½œã‚’ã™ã‚‹ã¨ã‚¢ãƒ—ãƒªãŒè½ã¡ã‚‹å¯¾ç­–</h3>
<p>ã‚¹ãƒ¯ã‚¤ãƒ—ã—ãªãŒã‚‰é ‘å¼µã£ã¦åŒæ™‚ã«ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨ã€ã‚¢ãƒ—ãƒªãŒè½ã¡ã¾ã™ã€‚</p>
<p>ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ã¯<code>"Duplicate states in queue"</code>ã§ã™ã€‚ã“ã®ã‚¨ãƒ©ãƒ¼ãŒèµ·ãã‚‹ç†ç”±ã¯ã‚ã‹ã£ã¦ã„ã¾ã›ã‚“ãŒã€ã“ã®å®Ÿè£…ã§ã¯ã‚¹ãƒ¯ã‚¤ãƒ—ä¸­ã®ãƒœã‚¿ãƒ³æŠ¼ä¸‹ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ãªã„ã‚ˆã†ã§ã™ã€‚</p>
<p>ãƒœã‚¿ãƒ³é·ç§»ä¸­ã®ã‚¹ãƒ¯ã‚¤ãƒ—æ“ä½œç„¡åŠ¹åŒ–ã¨åŒæ§˜ã«ã€ã‚¹ãƒ¯ã‚¤ãƒ—ä¸­ã¯ãƒœã‚¿ãƒ³ã‚’ç„¡åŠ¹åŒ–ã—ã¾ã™ã€‚</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=color:#66d9ef>extension</span> <span style=color:#a6e22e>RootPageViewController</span>: UIPageViewControllerDelegate {
    <span style=color:#75715e>/// ã‚¹ãƒ¯ã‚¤ãƒ—æ“ä½œãŒå§‹ã¾ã£ãŸæ™‚ã«å‘¼ã°ã‚Œã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ã€‚ã‚¹ãƒ¯ã‚¤ãƒ—ä¸­ã®ãƒœã‚¿ãƒ³æ“ä½œã‚’ç„¡åŠ¹ã«ã—ã¦ã€è¡Œãå…ˆç”»é¢ã®indexã‚’cacheã«å…¥ã‚Œã¦ãŠã</span>
    <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>pageViewController</span>(<span style=color:#66d9ef>_</span> pageViewController: UIPageViewController, willTransitionTo pendingViewControllers: [UIViewController]) {
        backButton.isEnabled = <span style=color:#66d9ef>false</span>
        nextButton.isEnabled = <span style=color:#66d9ef>false</span>
        <span style=color:#66d9ef>if</span> <span style=color:#66d9ef>let</span> index = <span style=color:#66d9ef>self</span>.controllers.firstIndex(of: pendingViewControllers.first!) {
            cacheIndex = index
        }
    }
    
    <span style=color:#75715e>/// ã‚¹ãƒ¯ã‚¤ãƒ—æ“ä½œã«ã‚ˆã‚‹ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãŒçµ‚ã‚ã£ãŸæ™‚ã«å‘¼ã°ã‚Œã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ã€‚ãƒœã‚¿ãƒ³æ“ä½œã‚’å†ã³æœ‰åŠ¹ã«ã—ã¦ã€ã‚‚ã—é·ç§»å®Œäº†ãªã‚‰cacheã‚’indexã«é©ç”¨</span>
    <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>pageViewController</span>(<span style=color:#66d9ef>_</span> pageViewController: UIPageViewController, didFinishAnimating finished: Bool, previousViewControllers: [UIViewController], transitionCompleted completed: Bool) {
        backButton.isEnabled = <span style=color:#66d9ef>true</span>
        nextButton.isEnabled = <span style=color:#66d9ef>true</span>
        <span style=color:#66d9ef>if</span> completed {
            <span style=color:#66d9ef>self</span>.index = cacheIndex!
            didMovePage()
        }
    }
}
</code></pre></div><p>ä»¥ä¸Šã§ã€ã‚¹ãƒ¯ã‚¤ãƒ—ã§ã‚‚ãƒœã‚¿ãƒ³ã§ã‚‚é·ç§»ã§ãã‚‹ã‚¢ãƒ—ãƒªã¯å®Œæˆã§ã™ã€‚</p>
<h3 id=ã‚³ãƒ¼ãƒ‰å…¨æ–‡>ã‚³ãƒ¼ãƒ‰å…¨æ–‡</h3>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>UIKit</span>

<span style=color:#66d9ef>class</span> <span style=color:#a6e22e>RootPageViewController</span>: UIViewController {
    
    <span style=color:#66d9ef>@IBOutlet</span> <span style=color:#66d9ef>weak</span> <span style=color:#66d9ef>var</span> pageControl: UIPageControl!
    <span style=color:#66d9ef>@IBOutlet</span> <span style=color:#66d9ef>weak</span> <span style=color:#66d9ef>var</span> backButton: UIButton!
    <span style=color:#66d9ef>@IBOutlet</span> <span style=color:#66d9ef>weak</span> <span style=color:#66d9ef>var</span> nextButton: UIButton!
    
    <span style=color:#66d9ef>var</span> pageViewController: UIPageViewController!
    <span style=color:#66d9ef>var</span> controllers: [UIViewController] = []
    <span style=color:#66d9ef>var</span> index: Int = <span style=color:#ae81ff>0</span>
    <span style=color:#66d9ef>var</span> cacheIndex: Int?
    
    <span style=color:#66d9ef>override</span> <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>viewDidLoad</span>() {
        <span style=color:#75715e>// ContainerViewã§æŒã£ã¦ã„ã‚‹UIPageViewControllerã‚’selfã®pageViewControllerã«è¨­å®š</span>
        <span style=color:#66d9ef>self</span>.pageViewController = children.first! <span style=color:#66d9ef>as</span>? UIPageViewController
        
        <span style=color:#66d9ef>let</span> first = storyboard!.instantiateViewController(withIdentifier: <span style=color:#e6db74>&#34;firstPage&#34;</span>)
        <span style=color:#66d9ef>let</span> second = storyboard!.instantiateViewController(withIdentifier: <span style=color:#e6db74>&#34;secondPage&#34;</span>)
        <span style=color:#66d9ef>let</span> third = storyboard!.instantiateViewController(withIdentifier: <span style=color:#e6db74>&#34;thirdPage&#34;</span>)
        
        controllers = [first, second, third]
        pageViewController.setViewControllers([controllers[index]], direction: .forward, animated: <span style=color:#66d9ef>false</span>)
        pageViewController.dataSource = <span style=color:#66d9ef>self</span>
        pageViewController.delegate = <span style=color:#66d9ef>self</span>
        
        pageControl.numberOfPages = controllers.count
        didMovePage()
    }
    
    <span style=color:#66d9ef>@IBAction</span> <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>didPressBackButton</span>(<span style=color:#66d9ef>_</span> sender: UIButton) {
        <span style=color:#75715e>// ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ä¸­ã¯ç”»é¢ã‚’è§¦ã‚Œãªãã™ã‚‹</span>
        view.isUserInteractionEnabled = <span style=color:#66d9ef>false</span>
        animateToPreviousPage() { [<span style=color:#66d9ef>weak</span> <span style=color:#66d9ef>self</span>] <span style=color:#66d9ef>in</span>
            <span style=color:#66d9ef>self</span>?.didMovePage()
            <span style=color:#66d9ef>self</span>?.view.isUserInteractionEnabled = <span style=color:#66d9ef>true</span>
        }
    }
    
    <span style=color:#66d9ef>@IBAction</span> <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>didPressNextButton</span>(<span style=color:#66d9ef>_</span> sender: UIButton) {
        <span style=color:#75715e>// ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ä¸­ã¯ç”»é¢ã‚’è§¦ã‚Œãªãã™ã‚‹</span>
        view.isUserInteractionEnabled = <span style=color:#66d9ef>false</span>
        animateToNextPage() { [<span style=color:#66d9ef>weak</span> <span style=color:#66d9ef>self</span>] <span style=color:#66d9ef>in</span>
            <span style=color:#66d9ef>self</span>?.didMovePage()
            <span style=color:#66d9ef>self</span>?.view.isUserInteractionEnabled = <span style=color:#66d9ef>true</span>
        }
    }
    
    <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>animateToPreviousPage</span>(completion: @escaping (()-&gt; Void)) {
        index = index <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>
        pageViewController.setViewControllers([controllers[index]], direction: .reverse, animated: <span style=color:#66d9ef>true</span>) { <span style=color:#66d9ef>_</span> <span style=color:#66d9ef>in</span>
            completion()
        }
    }
    
    <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>animateToNextPage</span>(completion: @escaping (()-&gt; Void)) {
        index = index <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>
        pageViewController.setViewControllers([controllers[index]], direction: .forward, animated: <span style=color:#66d9ef>true</span>) { <span style=color:#66d9ef>_</span> <span style=color:#66d9ef>in</span>
            completion()
        }
    }
    
    <span style=color:#75715e>/// ã‚¹ãƒ¯ã‚¤ãƒ—ã€ãƒœã‚¿ãƒ³ã§ã®ãƒšãƒ¼ã‚¸é·ç§»çµ‚äº†å¾Œã«å‘¼ã¶ãƒ¡ã‚½ãƒƒãƒ‰ã€‚</span>
    <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>didMovePage</span>() {
        pageControl.currentPage = index
        <span style=color:#66d9ef>if</span> index == <span style=color:#ae81ff>0</span> {
            backButton.isHidden = <span style=color:#66d9ef>true</span>
        } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> index == controllers.count <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span> {
            nextButton.isHidden = <span style=color:#66d9ef>true</span>
        } <span style=color:#66d9ef>else</span> {
            backButton.isHidden = <span style=color:#66d9ef>false</span>
            nextButton.isHidden = <span style=color:#66d9ef>false</span>
        }
    }
}

<span style=color:#66d9ef>extension</span> <span style=color:#a6e22e>RootPageViewController</span>: UIPageViewControllerDelegate {
    <span style=color:#75715e>/// ã‚¹ãƒ¯ã‚¤ãƒ—æ“ä½œãŒå§‹ã¾ã£ãŸæ™‚ã«å‘¼ã°ã‚Œã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ã€‚ã‚¹ãƒ¯ã‚¤ãƒ—ä¸­ã®ãƒœã‚¿ãƒ³æ“ä½œã‚’ç„¡åŠ¹ã«ã—ã¦ã€è¡Œãå…ˆç”»é¢ã®indexã‚’cacheã«å…¥ã‚Œã¦ãŠã</span>
    <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>pageViewController</span>(<span style=color:#66d9ef>_</span> pageViewController: UIPageViewController, willTransitionTo pendingViewControllers: [UIViewController]) {
        backButton.isEnabled = <span style=color:#66d9ef>false</span>
        nextButton.isEnabled = <span style=color:#66d9ef>false</span>
        <span style=color:#66d9ef>if</span> <span style=color:#66d9ef>let</span> index = <span style=color:#66d9ef>self</span>.controllers.firstIndex(of: pendingViewControllers.first!) {
            cacheIndex = index
        }
    }
    
    <span style=color:#75715e>/// ã‚¹ãƒ¯ã‚¤ãƒ—æ“ä½œã«ã‚ˆã‚‹ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãŒçµ‚ã‚ã£ãŸæ™‚ã«å‘¼ã°ã‚Œã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ã€‚ãƒœã‚¿ãƒ³æ“ä½œã‚’å†ã³æœ‰åŠ¹ã«ã—ã¦ã€ã‚‚ã—é·ç§»å®Œäº†ãªã‚‰cacheã‚’indexã«é©ç”¨</span>
    <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>pageViewController</span>(<span style=color:#66d9ef>_</span> pageViewController: UIPageViewController, didFinishAnimating finished: Bool, previousViewControllers: [UIViewController], transitionCompleted completed: Bool) {
        backButton.isEnabled = <span style=color:#66d9ef>true</span>
        nextButton.isEnabled = <span style=color:#66d9ef>true</span>
        <span style=color:#66d9ef>if</span> completed {
            <span style=color:#66d9ef>self</span>.index = cacheIndex!
            didMovePage()
        }
    }
}

<span style=color:#66d9ef>extension</span> <span style=color:#a6e22e>RootPageViewController</span>: UIPageViewControllerDataSource {
    <span style=color:#75715e>/// ã‚¹ãƒ¯ã‚¤ãƒ—æ“ä½œã«ãŠã‘ã‚‹æ¬¡ã®ç”»é¢ã‚’æ¸¡ã™ãƒ¡ã‚½ãƒƒãƒ‰ã€‚ãã®ç”»é¢ãŒæœ€å¾Œã®ç”»é¢ãªã‚‰ã€nilã‚’è¿”ã—ã¦é·ç§»ä¸å¯ã¨ã™ã‚‹</span>
    <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>pageViewController</span>(<span style=color:#66d9ef>_</span> pageViewController: UIPageViewController, viewControllerAfter viewController: UIViewController) -&gt; UIViewController? {
        <span style=color:#66d9ef>if</span> index <span style=color:#f92672>&lt;</span> controllers.count <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span> {
            <span style=color:#66d9ef>return</span> controllers[index <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>]
        } <span style=color:#66d9ef>else</span> {
            <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>
        }
    }
    
    <span style=color:#75715e>/// ã‚¹ãƒ¯ã‚¤ãƒ—æ“ä½œã«ãŠã‘ã‚‹å‰ã®ç”»é¢ã‚’æ¸¡ã™ãƒ¡ã‚½ãƒƒãƒ‰ã€‚ãã®ç”»é¢ãŒæœ€åˆã®ç”»é¢ãªã‚‰ã€nilã‚’è¿”ã—ã¦é·ç§»ä¸å¯ã¨ã™ã‚‹</span>
    <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>pageViewController</span>(<span style=color:#66d9ef>_</span> pageViewController: UIPageViewController, viewControllerBefore viewController: UIViewController) -&gt; UIViewController? {
        <span style=color:#66d9ef>if</span> index <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span> {
            <span style=color:#66d9ef>return</span> controllers[index <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>]
        } <span style=color:#66d9ef>else</span> {
            <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>
        }
    }
}
</code></pre></div>
</div>
<footer class=post__footer>
<div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg>
<ul class=tags__list>
<li class=tags__item>
<a class="tags__link btn" href=/tags/swift/ rel=tag>Swift</a>
</li>
<li class=tags__item>
<a class="tags__link btn" href=/tags/uikit/ rel=tag>UIKit</a>
</li>
<li class=tags__item>
<a class="tags__link btn" href=/tags/uipageviewcontroller/ rel=tag>UIPageViewController</a>
</li>
</ul>
</div>
</footer>
</article>
</main>
<div class="authorbox clearfix">
<figure class=authorbox__avatar>
<img alt=" avatar" src=/img/avatar.jpg class=avatar height=90 width=90>
</figure>
</div>
</div>
<aside class=sidebar><div class="widget-search widget">
<form class=widget-search__form role=search method=get action=https://google.com/search>
<label>
<input class=widget-search__field type=search placeholder=æ¤œç´¢â€¦ name=q aria-label=æ¤œç´¢â€¦>
</label>
<input class=widget-search__submit type=submit value=Search>
<input type=hidden name=sitesearch value=https://SeanWakasugi.github.io>
</form>
</div>
<div class="widget-recent widget">
<h4 class=widget__title>æœ€è¿‘ã®æŠ•ç¨¿</h4>
<div class=widget__content>
<ul class=widget__list>
<li class=widget__item><a class=widget__link href=/posts/otpauth/>iOSã®TOTP(ãƒ¯ãƒ³ã‚¿ã‚¤ãƒ ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰)ã¾ã¨ã‚</a></li>
<li class=widget__item><a class=widget__link href=/posts/swiftchangefirstview/>SwiftUIã§èµ·å‹•æ™‚ã®ç”»é¢ã®å‡ºã—ã‚ã‘</a></li>
<li class=widget__item><a class=widget__link href=/posts/automaticallymanagesigning/>Automatically manage signingã®ã‚¹ã‚¹ãƒ¡</a></li>
<li class=widget__item><a class=widget__link href=/posts/swiftui+uikit/>UIKitã‹ã‚‰SwiftUIã«ç§»è¡Œã™ã‚‹éš›ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã«ã¤ã„ã¦</a></li>
<li class=widget__item><a class=widget__link href=/posts/fundamentalsofnlp/>è‡ªç„¶è¨€èªå‡¦ç†ã®åŸºç¤æ„Ÿæƒ³</a></li>
<li class=widget__item><a class=widget__link href=/posts/appstorepreorder/>AppStoreã®äºˆç´„æ³¨æ–‡ã«ã¤ã„ã¦</a></li>
<li class=widget__item><a class=widget__link href=/posts/llmonm1mac/>M1Macã§LLMã‚’å‹•ã‹ã™</a></li>
<li class=widget__item><a class=widget__link href=/posts/fluttercalliosnative/>Flutterã§iOSã®ãƒã‚¤ãƒ†ã‚£ãƒ–ç”»é¢ã‚’è¡¨ç¤ºã™ã‚‹</a></li>
<li class=widget__item><a class=widget__link href=/posts/firebasemfaprosandcons/>Firebaseå¤šè¦ç´ èªè¨¼ã®ãƒ¡ãƒªãƒƒãƒˆãƒ‡ãƒ¡ãƒªãƒƒãƒˆ</a></li>
<li class=widget__item><a class=widget__link href=/posts/firebaseauthhowtostartmfa/>Firebaseå¤šè¦ç´ èªè¨¼ã¾ã¨ã‚</a></li>
</ul>
</div>
</div>
<div class="widget-categories widget">
<h4 class=widget__title>ã‚«ãƒ†ã‚´ãƒªãƒ¼</h4>
<div class=widget__content>
<ul class=widget__list>
<li class=widget__item>
<a class=widget__link href=/categories/appstore/>AppStore</a></li>
<li class=widget__item>
<a class=widget__link href=/categories/firebase/>Firebase</a></li>
<li class=widget__item>
<a class=widget__link href=/categories/flutter/>Flutter</a></li>
<li class=widget__item>
<a class=widget__link href=/categories/ios/>iOS</a></li>
<li class=widget__item>
<a class=widget__link href=/categories/ios%E3%82%A2%E3%83%97%E3%83%AA/>iOSã‚¢ãƒ—ãƒª</a></li>
<li class=widget__item>
<a class=widget__link href=/categories/llm/>LLM</a></li>
<li class=widget__item>
<a class=widget__link href=/categories/swift/>Swift</a></li>
<li class=widget__item>
<a class=widget__link href=/categories/xcode/>Xcode</a></li>
<li class=widget__item>
<a class=widget__link href=/categories/%E6%9C%AC%E3%81%BE%E3%81%A8%E3%82%81/>æœ¬ã¾ã¨ã‚</a></li>
</ul>
</div>
</div>
<div class="widget-taglist widget">
<h4 class=widget__title>ã‚¿ã‚°</h4>
<div class=widget__content>
<a class="widget-taglist__link widget__link btn" href=/tags/alamofire/ title=Alamofire>Alamofire</a>
<a class="widget-taglist__link widget__link btn" href=/tags/applesilicon/ title=AppleSilicon>AppleSilicon</a>
<a class="widget-taglist__link widget__link btn" href=/tags/appstore/ title=AppStore>AppStore</a>
<a class="widget-taglist__link widget__link btn" href=/tags/cocoapods/ title=CocoaPods>CocoaPods</a>
<a class="widget-taglist__link widget__link btn" href=/tags/firebase/ title=Firebase>Firebase</a>
<a class="widget-taglist__link widget__link btn" href=/tags/flutter/ title=Flutter>Flutter</a>
<a class="widget-taglist__link widget__link btn" href=/tags/ios/ title=iOS>iOS</a>
<a class="widget-taglist__link widget__link btn" href=/tags/llama/ title=LLaMA>LLaMA</a>
<a class="widget-taglist__link widget__link btn" href=/tags/storyboard/ title=Storyboard>Storyboard</a>
<a class="widget-taglist__link widget__link btn" href=/tags/swift/ title=Swift>Swift</a>
<a class="widget-taglist__link widget__link btn" href=/tags/swiftpm/ title=SwiftPM>SwiftPM</a>
<a class="widget-taglist__link widget__link btn" href=/tags/swiftui/ title=SwiftUI>SwiftUI</a>
<a class="widget-taglist__link widget__link btn" href=/tags/totp/ title=totp>totp</a>
<a class="widget-taglist__link widget__link btn" href=/tags/uikit/ title=UIKit>UIKit</a>
<a class="widget-taglist__link widget__link btn" href=/tags/uipageviewcontroller/ title=UIPageViewController>UIPageViewController</a>
<a class="widget-taglist__link widget__link btn" href=/tags/usernotifications/ title=UserNotifications>UserNotifications</a>
<a class="widget-taglist__link widget__link btn" href=/tags/xcode/ title=Xcode>Xcode</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E6%8C%87%E5%90%91%E3%81%A7%E3%81%AA%E3%81%9C%E3%81%A4%E3%81%8F%E3%82%8B%E3%81%AE%E3%81%8B/ title=ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæŒ‡å‘ã§ãªãœã¤ãã‚‹ã®ã‹>ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæŒ‡å‘ã§ãªãœã¤ãã‚‹ã®ã‹</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%E3%83%AA%E3%83%BC%E3%83%80%E3%83%96%E3%83%AB%E3%82%B3%E3%83%BC%E3%83%89/ title=ãƒªãƒ¼ãƒ€ãƒ–ãƒ«ã‚³ãƒ¼ãƒ‰>ãƒªãƒ¼ãƒ€ãƒ–ãƒ«ã‚³ãƒ¼ãƒ‰</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%E3%83%AF%E3%83%B3%E3%82%BF%E3%82%A4%E3%83%A0%E3%83%91%E3%82%B9%E3%83%AF%E3%83%BC%E3%83%89/ title=ãƒ¯ãƒ³ã‚¿ã‚¤ãƒ ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰>ãƒ¯ãƒ³ã‚¿ã‚¤ãƒ ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%E8%87%AA%E7%84%B6%E8%A8%80%E8%AA%9E%E5%87%A6%E7%90%86%E3%81%AE%E5%9F%BA%E7%A4%8E/ title=è‡ªç„¶è¨€èªå‡¦ç†ã®åŸºç¤>è‡ªç„¶è¨€èªå‡¦ç†ã®åŸºç¤</a>
</div>
</div>
</aside>
</div>
<footer class=footer>
<div class="container footer__container flex">
<div class=footer__copyright>
&copy; 2024 Author.
<span class=footer__copyright-credits>ã“ã®ã‚µã‚¤ãƒˆã¯ <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> ã¨ <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> ãƒ†ãƒ¼ãƒã§ç”Ÿæˆã•ã‚Œã¦ã„ã¾ã™ã€‚</span>
</div>
</div>
</footer>
</div>
<script async defer src=/js/menu.js></script>
</body>
</html>
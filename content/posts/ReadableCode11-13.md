---
title: "リーダブルコード11章12章13章感想"
date: 2022-08-25
categories: ["本まとめ"]
tags: ["リーダブルコード", "swift"]
---

## 11章: 一度に1つのことを

何か問題を解決するときは、一度に1つのことをすべきという話です。

#### なぜなら、
* 処理の塊が1つ1つ別に書かれていれば、読みやすく理解しやすい。
* 領域それぞれを分離すれば、ある領域にいるときは、他の領域のことは考えなくて済む。

#### どうやって？
1. 読みにくいコードで行われているタスクをすべて列挙する
2. 別の関数やクラスに分割できるタスクを分割する
3. 分割して残ったタスクは、関数内の論理的な「段落」として分けて書く

## 12章: コードに想いを込める

簡単な言葉で説明することで、自分の中で整理されて綺麗に書けるようになる、という話です。

#### どうやって？
1. コードの動作を簡単な言葉で同僚にもわかるように説明する
2. その説明のなかで使っているキーワードやフレーズに応じて、下位問題を抽出したりコードを分割する
3. その説明に合わせてコードを書く

#### 感想
私がコードを書くときも、何の処理をするのか言語化してからコードを書くようにしています。

混乱してきたら、言語化した言葉の一言一言に対応するようにコードを書くことで、言語化が誤っていることに気がついたり、処理が抜けているのに気がついたりするので、助けになっています。

声に出して説明するのはラバーダッキングという手法としても知られています。これは、おもちゃのアヒルちゃんに説明するようにコードを1行ずつ説明することでコードの誤りに気づくという方法です。

先日もSwiftのコードの勉強のためにこのブログを書いていて、自分の誤りに気づくことがありました。

どんなにプログラミングについて詳しくなっても、こうやって言葉に起こしていくのは続けていきたいです。

## 13章: 短いコードを書く

コードを短くすることも大事、という話です。

#### なぜなら、
* 時間の節約
* テストや保守の手間が減る

#### どうやって？
* 不必要な機能を減らす。不必要な将来の機能のためのコードを書かない
* 実装は100％正確で高速でなくてもいい、必要な正確さでスピードであれば、実装が短い方を優先して良い
* 汎用的な「ユーティリティ」コードを作って、重複コードを削除する(10章: 無関係の下位問題を抽出する)
* 未使用のコードや無用の機能を削除する
* プロジェクトをサブプロジェクトに分割する
* コードの「重量」を意識する。軽量で機敏にしておく
* ライブラリを使う(定期的にライブラリの関数、モジュールや型の名前を読んでおくといい)

#### 感想
「コードを短くすること」と「コードをわかりやすくすること」はコンフリクトするのではないかと考えていました。

現在の私の結論は、これらは別の段階で処理することなのではないかと思っています。

コードには3つのレイヤーがあります。

仕様→言語化された処理→実際のコードです。

仕様（実現したいこと）を、どうすれば実現できるか考えて言語化し、言葉から1行1行コードに起こしていくことができます。

「コードを短くすること」は、前半の処理を言語化する段階で、なるべく処理を最小限にとどめ、分割することで実現できます。

「コードをわかりやすくすること」は、後半の言葉からコードに起こしていく段階で、コードをなるべく言葉に近づけて実装することで実現できるのではないかと考えています。

他の言い方をすると、仕様→言語化された処理→実際のコードの変換プロセスの中で、余分な部分を付け加えず前の段階に忠実に進めていくことで、「コードが短く」「わかりやすく」なるということです。

以上